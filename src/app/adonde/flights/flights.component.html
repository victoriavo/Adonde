<h3 class="display-4" style="font-size:40px">Flights</h3>

<div id="carouselExampleIndicators" class="carousel slide bg-info rounded mb-4" data-ride="carousel" data-interval="false">
    <ol class="carousel-indicators" id="indicatorList">
        <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
        <li data-target="#carouselExampleIndicators" [attr.data-slide-to]="i+1" *ngFor="let recommendedFlight of recommendedFlights; let i = index"></li>
        <li data-target="#carouselExampleIndicators" [attr.data-slide-to]="i+1+recommendedFlights.length" *ngFor="let flight of flights; let i = index"></li>
    </ol>


    <div class="carousel-inner" id="main">
        <div class="slide carousel-item active">
            <div class="d-flex w-100 h-100" id="baseSlide">
                <h5 class="display-4 mx-auto" style="text-align:center; margin-top: 164px;" *ngIf="location">Click next to see flights heading towards {{location.city}}</h5>
                <h5 class="display-4 mx-auto" style="text-align:center; margin-top: 164px;" *ngIf="!location || !flights.length">Sorry, we currently have no available flights.</h5>
            </div>
        </div>


        <div class="slide carousel-item" *ngFor="let recommendedFlight of recommendedFlights">
            <div class="d-flex w-100 h-100">
                <div class="card p-3 mx-auto" style="height:350px; margin-top:50px;">
                    <div class="row pl-3 ml-0">
                        <h4 class="font-weight-bold mr-1" style="color: blue">Recommended</h4>
                    </div>
                    <div class="row p-3 ml-0">
                        <h3>
                            <span class="font-weight-bold mr-1">{{recommendedFlight.depart_port}}</span>
                            <span class="mr-1">to</span>
                            <span class="font-weight-bold mr-3">{{recommendedFlight.arrival_port}}</span>
                        </h3>
                    </div>
                    <div class="row p-3 ml-0">
                        <span class="font-weight-bold mr-1"> Departure Cost: </span>
                        <span class="mr-3">{{recommendedFlight.depart_cost | currency:display:'symbol'}}</span>
                        <span class="font-weight-bold mr-1"> Return Cost: </span>
                        <span class="mr-3">{{recommendedFlight.return_cost | currency:display:'symbol'}}</span>
                    </div>
                    <div class="row p-3 ml-0">
                        <span class="font-weight-bold mr-1">Departure Date: </span>
                        <span class="mr-3"> {{recommendedFlight.depart_date | date:'short'}}</span>
                        <span class="font-weight-bold mr-1">Return Date: </span>
                        <span class="mr-3"> {{recommendedFlight.return_date | date:'short'}}</span>
                    </div>
                    <div class="row p-3 ml-0 pb-4">
                        <span class="font-weight-bold mr-1">Departure Air Time: </span>
                        <span class="mr-3">{{recommendedFlight.depart_air_time}} </span>
                        <span class="font-weight-bold mr-1">Return Air Time: </span>
                        <span class="mr-3">{{recommendedFlight.return_air_time}} </span>
                    </div>
                    <div class="row">
                        <div class="float-left" style="width:50%; justify-content: center; align-items: center; display: flex">
                            <a href="{{recommendedFlight.depart_link}}" class="btn btn-primary" style="width: 80%" role="button" aria-pressed="true" target="_blank">View Departing Flight</a>
                        </div>
                        <div class="clearfix"></div>
                        <div class="float-right" style="width:50%; justify-content: center; align-items: center; display: flex">
                            <a href="{{recommendedFlight.return_link}}" class="btn btn-primary" style="width: 80%" role="button" aria-pressed="true" target="_blank">View Returning Flight</a>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="slide carousel-item" *ngFor="let flight of flights">
            <div class="d-flex w-100 h-100">
                <div class="card mx-auto p-3" style="height:260px; margin-top: 95px;">

                    <div class="row p-3 ml-0">
                        <h3>
                            <span class="font-weight-bold mr-1">{{flight.depart_port}}</span>
                            <span class="mr-1">to</span>
                            <span class="font-weight-bold mr-3">{{flight.arrival_port}}</span>
                            <span>({{flight.airlines}})</span>
                        </h3>
                    </div>
                    <div class="row p-3 ml-0">
                        <span class="font-weight-bold mr-1">Flight From: </span>
                        <span class="mr-3">{{flight.origin}}</span>
                        <span class="font-weight-bold mr-1"> Cost: </span>
                        <span class="mr-3">{{flight.cost | currency:display:'symbol'}}</span>
                    </div>
                    <div class="row p-3 ml-0 pb-4">
                        <span class="font-weight-bold mr-1">Departure Date: </span>
                        <span class="mr-3"> {{flight.depart_date | date:'short'}}</span>
                        <div class="d-block">
                            <span class="font-weight-bold mr-1">Air Time: </span>
                            <span class="mr-3">{{flight.air_time}} </span>
                            <span class="font-weight-bold mr-1">Distance:</span>
                            <span class="mr-3">{{flight.distance}} miles</span>
                        </div>
                    </div>
                    <div class="d-flex w-100 justify-content-center">
                        <a href="{{flight.link}}" class="btn btn-primary" style="width: 50%" role="button" aria-pressed="true" target="_blank">View Flight</a>
                    </div>

                </div>
            </div>
        </div>

        <a class="carousel-control-prev rounded-left" href="#carouselExampleIndicators" role="button" data-slide="prev" *ngIf="flights.length">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next rounded-right" href="#carouselExampleIndicators" role="button" data-slide="next" *ngIf="flights.length">
            <span class="carousel-control-next-icon" aria-hidden="true" style="margin-right:-10px;"></span>
            <span class="sr-only">Next</span>
        </a>

    </div>
</div>